<!DOCTYPE html><html><!--[if lt IE 10]><html class="lt-ie10"><![endif]--><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width"><meta name="description" content="AXA Switzerland Web Style Guide"><meta name="keywords" content="axa,switzerland,versicherungen,web,style,guide"><meta name="author" content="AXA Versicherungen AG"><title>Fileupload Demo | Demo | Web Style Guide</title><link rel="stylesheet" href="//fast.fonts.net/cssapi/1da4c08a-73a4-4e34-8997-1c1eeb1a8cca.css"><link rel="stylesheet" href="../../../css/normalize.min.css"><link rel="stylesheet" href="../../../css/style.min.css"><script src="../../../js/docs-examples.all.min.js"></script><script>moment.locale('en_GB')
</script></head><body><div class="example">
<div class="l-container">
  <div class="form">
    <div class="form__group">
      <div class="form__group__label">Dateien</div>
      <div class="form__group__control">
        <div id="example" class="multi-upload">
          <div class="dropzone">
            <div data-dropzone="dropzone" class="dropzone__container">
              <input type="file" class="dropzone__input"/>
              <div class="dropzone__icon-container">
                <svg class="icon-svg dropzone__icon">
                  <use xlink:href="../../../images/icons.svg#upload"></use>
                </svg>
              </div>
              <div class="dropzone__text-container">
                <div class="dropzone__text"><span>Drag file here or</span>&nbsp;<a class="dropzone__text__upload-link">click to choose</a></div>
              </div>
            </div>
          </div>
          <div class="multi-upload__remarks">Nur Bilder (<code class="code">.jpg</code>,&nbsp;<code class="code">.png</code>,&nbsp;<code class="code">.gif</code>) oder Dokumente (<code class="code">.pdf</code>,&nbsp; <code class="code">.docx</code>).<br/>Maximal 2 MB pro Datei</div>
          <div class="file-list"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  (function () {
    var $example = $('#example');
    var $dropzone = $example.find('.dropzone__container');
    var $fileList = $example.find('.file-list');
    var init = function() {
      $dropzone.on('drop', function(event) {
        event.preventDefault();
        for (var i = 0;i<event.originalEvent.dataTransfer.files.length;i++)
        {
          upload(event.originalEvent.dataTransfer.files[i].name);
        }
      });
      $dropzone.find('.dropzone__text__upload-link').on ('click', function() {
          $example.find('.dropzone__input')[0].click();
      });
      $dropzone.find('.dropzone__input').on('change', fileSelected);
    }
    var fileSelected = function(event) {
      var name = this.value.replace(/\\/g, '/').replace(/.*\//, '')
      upload(name);
    };
    var upload = function (name) {
      var fileStatus = $('<div></div>').addClass('file-list__file');
      var fakeUpload = function () {
        var progressBar = $('<div></div>').addClass('progressbar');
        var progressBarDescription = $('<div></div>').addClass('progressbar__description');
        progressBarDescription.text(name);
        progressBar.append(progressBarDescription);
        var progressBarPercentage = $('<div></div>').addClass('progressbar__percentage');
        progressBarPercentage.text('0%');
        progressBar.append(progressBarPercentage);
        var progressBarProgress = $('<div></div>').addClass('progressbar__progress');
        var progressBarProgressBackground = $('<div></div>').addClass('progressbar__progress-background');
        var progressBarProgressForeground = $('<div></div>').addClass('progressbar__progress-foreground');
        progressBarProgressBackground.append(progressBarProgressForeground);
        progressBarProgress.append(progressBarProgressBackground);
        progressBar.append(progressBarProgress);
        fileStatus.append(progressBar);
        $fileList.append(fileStatus);
        var progressUpdater = function (foreground, percentageElement) {
          var fakeProgressSteps = 5;
          for (i = 0; i <= fakeProgressSteps ; i++) {
            (function (j) {
              setTimeout(function () {
                var width = 100 / fakeProgressSteps * j;
                foreground.css('width', width + '%');
                if (j !== fakeProgressSteps) {
                  percentageElement.text(width.toPrecision(2) + '%');
                }
                else {
                  percentageElement.text('100%');
                  foreground.css('width', '100%');
                  setTimeout(function () {
                    finish();
                  }, 1000);
                }
              }, j*1000);
            })(i);
          }
        };
        progressUpdater(progressBarProgressForeground, progressBarPercentage);
      }
      var finish = function() {
        var fileUploaded = $('<div></div>').addClass('file-uploaded');
        var fileUploadedActions = $('<div></div>').addClass('file-uploaded__actions');
        var viewAction = $('<a></a>').addClass('file-uploaded__actions__action');
        viewAction.text('ansehen');
        viewAction.on('click', function () {
          alert('Your file is simply too awesome to be shown here!')
        })
        fileUploadedActions.append(viewAction);
        var deleteAction = $('<a></a>').addClass('file-uploaded__actions__action');
        deleteAction.text('l√∂schen');
        deleteAction.on('click', function () {
          fileUploaded.parent().remove()
        })
        fileUploadedActions.append(deleteAction);
        var fileUploadedTitle = $('<div></div>').addClass('file-uploaded__title');
        fileUploadedTitle.text(name);
        fileUploaded.append(fileUploadedActions);
        fileUploaded.append(fileUploadedTitle);
        fileStatus.empty();
        fileStatus.append(fileUploaded);
      }
      fakeUpload();
    }
    init();
  })();
</script></div></body></html>